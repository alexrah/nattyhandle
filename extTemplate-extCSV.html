<!DOCTYPE HTML>
<head>
  <script src="//cdn.jsdelivr.net/jquery/2.1.0/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/handlebarsjs/1.3.0/handlebars.js"></script> 
  <script src="jquery-autobars.js" type="text/javascript"></script>
  <script src="jquery.csv-0.71.min.js"></script>
  <script src="templates/table.hbs" type="text/x-handlebars-template"></script>
  <script type="text/javascript" >
    $(document).ready(function(){
        var csv = (function() { 
        var csv = "ciccio";
        $.ajax({
          'type' : "GET",
          'async': "false",
          'global': "false",
          'dataType': "text",
          'url': 'TL-3000.csv',
          'success': function(data){ var csv = $.csv.toObjects(data); }
          });
        return csv;
        })();
        var input = $.csv.toObjects("TL-30001.csv") 
          // $.autoBars(function(){
        console.log('it worked!')
        // var $html = $.handlebarTemplates.table({installazioni: json});
        // $('#placeholder').html($html);
            // });
          
          // });
       //  $.get('TL-3000.csv', function(source) {
       //      // data = $.csv()(source);
       //  var data = $.csv.toObjects(source);
       //      });
    $(document).autoBars(function(){
        var arrays = $.csv.toArrays("TL-3000.csv") 
        console.log(csv)
        console.log(input)
        console.log(arrays)

        // var input = {installazioni : [{CLIENTE: "ciccio", ANNO: "2008"}, {CLIENTE: "amico", ANNO: "2019"}]};
        
        var $html = $.handlebarTemplates.table(csv);
        $('#placeholder').html($html);
        });
    });
  </script>
    <title>Handlebars <span>with external template </span>*handlebars file</title>
    <link rel="stylesheet" href="main.css" type="text/css">
</head>
<body>
    <h3>Handlebars <span>with external template </span>*handlebars file</h3>
  <div id="placeholder"></div>
</body>
